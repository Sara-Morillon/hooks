# useFetch

`useFetch` offers an easy way to handle loading and error on remote data retrieval.

## Example

```tsx
import { useFetch } from '@saramorillon/hooks'
import { getData } from './service'

function MyComponent() {
  const [data, { loading, error }, refresh] = useFetch(getData)

  if (loading) return <Spinner />
  if (error) return <Error />
  return (
    <>
      <Button onClick={refresh}>Refresh</Button>
      <Table data={data} />
    </>
  )
}
```

## API

```typescript
useFetch<T>(fetch: () => Promise<T>, defaultValue?: T): IFetchResult<T>
```

### Arguments

`fetch: () => Promise<T>` - The function to run. **:warning: Must be memoized to avoid potential infinite loops.**

`defaultValue?: T` - the default value returned by the hook.

### Returns

An array containing:

- `data: T` - the fetched data.
- an object containing:
  - `loading: boolean` - indicates weither the action is currently pending or not.
  - `error?: unknown` - the error potentially generated by the action.
- `refresh: () => Promise<void>` - a function to refresh the data.
